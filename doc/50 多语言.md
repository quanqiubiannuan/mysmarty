**多语言**

配置

```
#为空不开启多语言，为其它值则开启多语言，例如：zh-cn
DEFAULT_LANG=
#多语言自动检测的变量GET参数
DETECT_LANG_VAR=lang
#多语言自动检测的变量COOKIE参数
COOKIE_LANG_VAR=lang
```

如果想要开启多语言，请设置 `DEFAULT_LANG` 参数，这个参数的值决定着多语言的文件夹组成形式。

例如：`DEFAULT_LANG=zh-cn`

则多语言文件为：

默认公共语言文件：application/模块/lang/zh-cn.php

控制器语言文件：application/模块/lang/zh-cn/控制器名称（包含多层级文件夹）.php

读取多语言时，会先从控制器语言文件读取，读取不到，才会从默认公共语言文件读取。

语言文件需要返回一个数组

```php
<?php
return [
    'test' => '测试',
    'user' => '用户',
    'password' => '密码',
    'xx22' => '氛围我222'
];
```

**读取**

```php
var_dump(lang('test'));
```

如果没有读取到，会默认返回当前名称 `test`。

**如何在每个页面开启多语言**

第一种方式：通过GET传参

配置：`DETECT_LANG_VAR`，默认值为lang。也就是你需要在每个页面传递一个lang参数，它的值就为语言文件的名称。

例如：

`lang=gn`

那么你的语言包里，必须存在gn.php文件和gn文件夹（用来存放控制器的语言文件）。

第二种方式：通过cookie

只需要在页面中设置一个cookie就行，默认`COOKIE_LANG_VAR`是lang。

如果用此种方式，需要将 `DETECT_LANG_VAR` 设为空。

**开发技巧**

在使用多语言时，你可以以某种语言为默认语言开发，则这种语言你需要创建语言文件。

比如：我的多语言默认是英文：en，则我不需要去创建 en 相关的语言文件，我只需要创建其它语言文件即可，例如：zh-cn。

在使用中，`lang('test')` 在没有找到相关配置时，默认就会返回 test。

你不一定要使用英文作为默认语言配置文件，框架完全支持中文，且框架默认使用的也是中文。

例如：

```php
var_dump(lang('错误'));
```

在英文 en 语言包里

```php
<?php
return [
    'test' => 'Test',
    'user' => 'User',
    'password' => 'Password',
    '错误' => 'error'
];
```

